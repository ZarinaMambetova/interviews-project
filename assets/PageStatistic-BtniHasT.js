import{g,q as m,o as y,c as f,b as v}from"./index.esm-CdN-bN9A.js";import{d as _,u as h,r as a,n as C,a as V,i as l,b as P,e as S,F as b,o as w}from"./index-CFRKEmaw.js";const x={class:"card flex justify-content-center"},E=_({__name:"PageStatistic",setup(D){const c=h(),u=g(),s=a([]),r=a(),n=a();C(async()=>{s.value=await p(),r.value=d(),n.value=i()});const p=async()=>{let e=m(f(u,`users/${c.userId}/interviews`),y("createdAt","desc"));return(await v(e)).docs.map(o=>o.data())},d=()=>{const e=getComputedStyle(document.body),t=[0,0,0];return s.value.forEach(o=>{o.result==="Offer"?t[0]++:o.result==="Refusal"?t[1]++:t[2]++}),{labels:["Оффер","Отказ","В процессе"],datasets:[{data:t,backgroundColor:[e.getPropertyValue("--p-cyan-500"),e.getPropertyValue("--p-orange-500"),e.getPropertyValue("--p-gray-500")],hoverBackgroundColor:[e.getPropertyValue("--p-cyan-400"),e.getPropertyValue("--p-orange-400"),e.getPropertyValue("--p-gray-400")]}]}},i=()=>({plugins:{legend:{labels:{cutout:"60%",color:getComputedStyle(document.documentElement).getPropertyValue("--p-text-color")}}}});return(e,t)=>{const o=S("app-chart");return w(),V(b,null,[t[0]||(t[0]=l("h1",null,"Статистика",-1)),l("div",x,[P(o,{type:"doughnut",data:r.value,options:n.value,class:"w-full md:w-30rem"},null,8,["data","options"])])],64)}}});export{E as default};
