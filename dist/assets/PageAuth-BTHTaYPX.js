import{d as A,h as B,r,c as m,a as C,b as u,i as t,e as d,t as v,j as T,F as U,g as F,o as P,s as j,k as b,l as I}from"./index-CwzZaSai.js";const L={class:"flex justify-content-center p-2"},N={class:"surface-card p-4 shadow-2 border-round w-full lg:w-6"},S={class:"text-center mb-3"},W={class:"text-600 font-medium line-height-3"},R=A({__name:"PageAuth",setup(D){const c=B(),l=r(""),n=r(""),s=r(!0),o=r(!1),p=F(),g=()=>{s.value=!s.value},x=m(()=>s.value?"Аккаунта еще нет?":"Уже есть аккаунт?"),_=m(()=>s.value?"Cоздайте сейчас?":"Войдите в него"),w=m(()=>s.value?"Вход":"Регистрация"),y=async()=>{o.value=!0;try{await I(b(),l.value,n.value),p.push("/")}catch(a){a instanceof Error&&c.add({severity:"error",summary:"Error",detail:a.message,life:5e3})}finally{o.value=!1}},h=async()=>{o.value=!0;try{await j(b(),l.value,n.value),p.push("/")}catch(a){a instanceof Error&&c.add({severity:"error",summary:"Error",detail:a.message,life:3e3})}finally{o.value=!1}},E=()=>{s.value?h():y()};return(a,e)=>{const V=d("app-toast"),f=d("app-input-text"),k=d("app-button");return P(),C(U,null,[u(V,{position:"bottom-right"}),t("div",L,[t("div",N,[t("div",S,[e[2]||(e[2]=t("div",{class:"text-900 text-3xl font-medium mb-3"},"Приветствую!",-1)),t("span",W,v(x.value),1),t("a",{class:"font-medium no-underline ml-2 text-blue-500 cursor-pointer",onClick:g},v(_.value),1)]),t("form",{onSubmit:T(E,["prevent"])},[e[3]||(e[3]=t("label",{for:"email1",class:"block text-900 font-medium mb-2"},"Email",-1)),u(f,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=i=>l.value=i),id:"email1",type:"email",class:"w-full mb-3"},null,8,["modelValue"]),e[4]||(e[4]=t("label",{for:"password1",class:"block text-900 font-medium mb-2"},"Пароль",-1)),u(f,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=i=>n.value=i),id:"password1",type:"password",class:"w-full mb-3"},null,8,["modelValue"]),u(k,{label:w.value,type:"submit",icon:"pi pi-user",loading:o.value,class:"w-full"},null,8,["label","loading"])],32)])])],64)}}});export{R as default};
